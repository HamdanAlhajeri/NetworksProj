Cisco 2900 multicast setup (example group 239.1.1.1 / port 5004)
================================================================

Router CLI (console or SSH)
---------------------------
1. Enter privileged mode and start configuration:
   enable
   configure terminal

2. Turn on multicast routing globally:
   ip multicast-routing

3. Configure sender-side interface (Gig0/0 in this lab):
   interface GigabitEthernet0/0
    description Sender VLAN / 10.20.20.0-24
    ip address 10.20.20.1 255.255.255.0
    ip pim sparse-mode
    ip igmp version 2
   exit

4. Configure receiver-side interface (Gig0/1 in this lab):
   interface GigabitEthernet0/1
    description Receiver VLAN / 10.30.30.0-24
    ip address 10.30.30.1 255.255.255.0
    ip pim sparse-mode
    ip igmp version 2
   exit

5. Define a static Rendezvous Point (use a stable router IP):
   ip pim rp-address 10.20.20.1 239.0.0.0 255.0.0.0

6. (Optional) Lock the router to only accept the test group:
   ip access-list standard ALLOW_MCAST
    permit 239.1.1.1
   exit
   ip pim accept-register list ALLOW_MCAST
   ip igmp access-group ALLOW_MCAST

7. Save the configuration:
   end
   write memory

8. Verification commands (run in privileged mode):
   show ip pim interface
   show ip igmp groups
   show ip mroute 239.1.1.1

Ubuntu sender PC (10.20.20.0/24)
--------------------------------
1. Open a terminal with sudo privileges.
2. Configure the NIC (replace `enp0s3` with the actual interface name):
   sudo ip addr flush dev enp0s3
   sudo ip addr add 10.20.20.2/24 dev enp0s3
   sudo ip link set enp0s3 up
   sudo ip route add default via 10.20.20.1
3. Allow multicast traffic with UFW (or skip if firewall disabled):
   sudo ufw allow out proto udp to 239.1.1.1 port 5004
4. Install VLC if needed:
   sudo apt install -y vlc
5. Run the sender:
   python src/cli.py sender --group 239.1.1.1 --port 5004 --iface 10.20.20.2 --file <video.mp4> --content-type video

Ubuntu receiver PC (10.30.30.0/24)
----------------------------------
1. Open a terminal with sudo privileges.
2. Configure the NIC (replace `enp0s3` with the actual interface name):
   sudo ip addr flush dev enp0s3
   sudo ip addr add 10.30.30.2/24 dev enp0s3
   sudo ip link set enp0s3 up
   sudo ip route add default via 10.30.30.1
3. Allow inbound UDP/5004 and IGMP using UFW:
   sudo ufw allow in proto udp to any port 5004
   sudo ufw allow in proto 2
4. Install VLC if needed and ensure itâ€™s on PATH:
   sudo apt install -y vlc
5. Run the receiver (adjust VLC path only if installed elsewhere):
   python src/cli.py receiver --group 239.1.1.1 --port 5004 --iface 10.30.30.2 --player vlc

General notes
-------------
- Raise `--ttl` (e.g., `--ttl 4`) on the sender if the stream must cross multiple routed hops.
- If you use ffplay instead of VLC, replace `--player vlc` with `--player ffplay --ffplay <path>`.
- Verify host membership with `show ip igmp groups` while the receiver is running to ensure it joins the multicast group.

Deploying the pre-made configs (router1.cfg / router2.cfg / switch.cfg)
-----------------------------------------------------------------------
Assumptions:
- You have console access to each Cisco 2900 router and the access switch.
- A TFTP server is running on your laptop at 10.20.20.10 with the .cfg files in its TFTP root. (Adjust the IP/server method if you use USB flash instead.)

Steps for each router (repeat with router1.cfg then router2.cfg):
1. Connect via console or SSH and enter privileged mode:
   enable
2. Verify reachability to the TFTP server:
   ping 10.20.20.10
3. Copy the desired config into startup-config (replace router1.cfg accordingly):
   copy tftp: startup-config
   Address or name of remote host []? 10.20.20.10
   Source filename []? router1.cfg
   Destination filename [startup-config]? <press Enter>
4. Reload to apply:
   reload
   (Confirm save if prompted. The router will boot with the uploaded startup-config.)
5. After reload, confirm the config loaded:
   show running-config | include hostname
   show ip interface brief

Steps for the switch (switch.cfg):
1. Connect via console/SSH, enter privileged mode:
   enable
2. Ping the TFTP server to ensure connectivity:
   ping 10.20.20.10
3. Copy the config to startup-config:
   copy tftp: startup-config
   Address or name of remote host []? 10.20.20.10
   Source filename []? switch.cfg
   Destination filename [startup-config]? <press Enter>
4. Reload the switch so it boots with the new config:
   reload
5. Verify expected VLAN/interface settings:
   show running-config
   show vlan brief

Alternate method (USB flash):
1. Copy router1.cfg / router2.cfg / switch.cfg to a FAT32 USB drive.
2. Insert the USB into the device (appears as `usbflash0:`).
3. Use `copy usbflash0:router1.cfg startup-config`.
4. Reload and verify as above.

Always review the configs after loading to confirm site-specific IPs, interface names, and passwords match your lab. Save any post-load tweaks with `write memory`.
